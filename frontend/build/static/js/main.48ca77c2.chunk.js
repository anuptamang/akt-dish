(this["webpackJsonpdishes-recipe"]=this["webpackJsonpdishes-recipe"]||[]).push([[0],{47:function(e,t,n){},54:function(e,t,n){},74:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(25),s=n.n(a),i=(n(47),n(6)),l=n(0),o=function(){return Object(l.jsx)("footer",{className:"fixed bottom-0 left-0 right-0 z-20 py-4 bg-red-300 text-center",children:Object(l.jsx)("div",{className:"container mx-auto px-4",children:"\xa9 DishRecipe"})})},d=n(9),u=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"logo text-2xl font-extrabold",children:Object(l.jsx)(d.b,{to:"/",className:"text-black block p-2",children:"DishRecipe"})})})},j=n(7),b="USER_LOGIN_REQUEST",x="USER_LOGIN_SUCCESS",m="USER_LOGIN_FAIL",p="USER_LOGOUT_REQUEST",h="USER_LOGOUT_SUCCESS",O=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.userLogin})).userInfo;console.log(t);return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("nav",{className:"nav",children:[Object(l.jsx)("button",{className:"nav-opener md:hidden",children:"Nav Opener"}),Object(l.jsx)("div",{className:"nav__drop",children:Object(l.jsxs)("ul",{className:"list-none flex",children:[Object(l.jsx)("li",{children:Object(l.jsx)(d.b,{className:"block p-2 text-black bg-red-200 md:mx-1 rounded",to:"/",children:"Home"})}),!t&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{children:Object(l.jsx)(d.b,{className:"block p-2 text-black bg-red-200 md:mx-1 rounded",to:"/login",children:"Login"})}),Object(l.jsx)("li",{children:Object(l.jsx)(d.b,{className:"block p-2 text-black bg-red-200 md:mx-1 rounded",to:"/signup",children:"Signup"})})]}),t&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("li",{children:Object(l.jsx)("button",{onClick:function(t){t.preventDefault(),e({type:p})},className:"block p-2 text-black bg-red-200 md:mx-1 rounded",children:"Logout"})}),Object(l.jsx)("li",{children:Object(l.jsx)(d.b,{to:"/cart",className:"block p-2 text-black bg-red-200 md:mx-1 rounded",children:"Cart"})})]}),Object(l.jsx)("li",{children:Object(l.jsx)("button",{className:"dark-mode-toggle block p-2 text-black bg-red-200 md:mx-1 rounded",children:"Dark/Light"})})]})})]})})},f=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("header",{className:"header fixed left-0 right-0 top-0 z-50 bg-red-300",children:Object(l.jsxs)("div",{className:"px-4 md:py-3 mx-auto md:flex md:justify-between md:items-center",children:[Object(l.jsx)(u,{}),Object(l.jsx)(O,{})]})})})},g=function(){return Object(l.jsx)("div",{children:Object(l.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Cart"})})},v=function(e){return Object(l.jsx)("div",{className:"container px-4 mx-auto py-12",children:e.children})},N=function(){return Object(l.jsx)(v,{children:Object(l.jsx)(g,{})})},y=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(N,{})})},w=n(17),_=n(16),k="inline-flex items-center justify-center w-32 p-2 h-14 bg-red-200 text-black rounded text-center mb-2",C=function(e){return Object(l.jsx)(l.Fragment,{children:"Link"===e.variant?Object(l.jsx)(d.b,{to:e.to,className:"".concat(k," ").concat("full"===e.width&&"w-full"," ").concat("lg"===e.size&&"text-lg w-40"," ").concat(e.disabled&&"pointer-events-none opacity-50"),children:e.children}):"submit"===e.variant?Object(l.jsx)("button",{type:"submit",className:"".concat(k," ").concat("full"===e.width&&"w-full"," ").concat("lg"===e.size&&"text-lg w-40"," ").concat(e.disabled&&"pointer-events-none opacity-50"),children:e.children}):Object(l.jsx)("button",{className:"".concat(k," ").concat("full"===e.width&&"w-full"," ").concat("lg"===e.size&&"text-lg w-40"," ").concat(e.disabled&&"pointer-events-none opacity-50"),children:e.children})})},S=function(e){var t=e.url;return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{className:"dish-info__image back bg-cover bg-center h-60",style:{backgroundImage:"url(".concat(t,")")}})})},L=function(e){var t=e.product;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"dish-info block bg-red-100 rounded-md overflow-hidden hover:bg-red-300 transition-all",children:[Object(l.jsx)(S,{url:t.image}),Object(l.jsxs)("div",{className:"dish-info__text p-3",children:[Object(l.jsx)("h2",{className:"text-md font-bold mb-1",children:t.name}),Object(l.jsx)(C,{variant:"Link",to:"/dish/".concat(t._id),width:"full",children:"View Recipe"}),Object(l.jsx)(C,{width:"full",children:"Add To Cart"})]})]})})},I=function(e){var t=e.ingType,n=e.onFilter,r=Object(c.useState)(""),a=Object(_.a)(r,2),s=a[0],i=a[1];return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("li",{className:"mb-2 pr-3 capitalize",children:Object(l.jsxs)("label",{htmlFor:"filterRecipe-".concat(t),children:[Object(l.jsx)("input",{onChange:function(e){n(e.target.value,s!==e.target.value),i((function(t){return t?"":e.target.value}))},type:"checkbox",value:t,checked:s===t,name:"ingType",id:"filterRecipe-".concat(t)})," ",t]})})})},E=(n(54),function(){return Object(l.jsx)("div",{className:"loader"})}),R=function(e){var t=e.handleFilterCheck,n=Object(j.c)((function(e){return e.productList.products})).map((function(e){return e.recipeIngredient.filter((function(e){return e})).map((function(e){return e.ingredient_name}))})),c=Object(j.c)((function(e){return e.productList})).loading,r=n.reduce((function(e,t){return t.map((function(t){return e.includes(t.toLocaleLowerCase())||e.push(t.toLocaleLowerCase()),e})),e}),[]);return Object(l.jsxs)("div",{className:"dish-user-panel md:flex md:justify-between mb-5",children:[Object(l.jsxs)("div",{className:"form filter-form md:w-2/3 mb-3",children:[Object(l.jsx)("h2",{className:"flex items-center text-2xl w-full h-14 bg-red-200 px-4 py-1 rounded",children:"Filter Dish Recipes"}),Object(l.jsx)("div",{className:"filter-drop p-3 bg-red-100",children:c?Object(l.jsx)(E,{}):Object(l.jsx)("ul",{className:"list-none flex flex-wrap",children:r.map((function(e){return Object(l.jsx)(I,{onFilter:t,ingType:e},e)}))})})]}),Object(l.jsx)(C,{variant:"Link",size:"lg",to:"/add",children:"Add Dish Recipe"})]})},F="PRODUCT_LIST_REQUEST",T="PRODUCT_LIST_SUCCESS",U="PRODUCT_LIST_FAIL",D="PRODUCT_CREATE_REQUEST",A="PRODUCT_CREATE_SUCCESS",P="PRODUCT_CREATE_FAIL",q="PRODUCT_CREATE_RESET",z=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return e.productList})).loading,n=Object(j.c)((function(e){return e.productList.products})),r=Object(c.useState)([]),a=Object(_.a)(r,2),s=a[0],i=a[1],o=Object(c.useState)([]),d=Object(_.a)(o,2),u=d[0],b=d[1];return Object(c.useEffect)((function(){n&&b(n)}),[n]),Object(c.useEffect)((function(){if(0!==s.length){var e=Object(w.a)(n).reduce((function(e,t){return t.recipeIngredient.some((function(e){return!!s.some((function(t){return t.toLowerCase()===e.ingredient_name.toLowerCase()}))}))&&e.push(t),e}),[]);b(e)}else b(n)}),[s]),Object(c.useEffect)((function(){e({type:F})}),[]),Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(v,{children:[Object(l.jsx)(R,{handleFilterCheck:function(e,t){if(t)i([].concat(Object(w.a)(s),[e]));else{var n=Object(w.a)(s).filter((function(t){return t!==e}));i(n)}}}),t?Object(l.jsx)(E,{}):Object(l.jsx)("div",{className:"row md:flex md:flex-wrap md:-m-3",children:null===u||void 0===u?void 0:u.map((function(e){return Object(l.jsx)("div",{className:"col md:w-1/2 lg:w-3/12 p-3",children:Object(l.jsx)(L,{product:e})},e._id)}))})]})})},G=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(z,{})})},J=function(){var e=Object(i.e)(),t=Object(j.b)(),n=Object(j.c)((function(e){return e.userLogin})),r=n.loading,a=n.userInfo;Object(c.useEffect)((function(){a&&e.push("/")}),[e,a]);return Object(l.jsxs)(v,{children:[Object(l.jsx)("h2",{className:"font-bold text-2xl mb-4",children:"Login"}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t({type:b,payload:"Guest"})},children:[r&&Object(l.jsx)(E,{}),Object(l.jsx)(C,{variant:"submit",children:"Login"})]})]})},Q=function(){return Object(l.jsx)(v,{children:Object(l.jsx)(J,{})})},M=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Q,{})})},B=function(){return Object(l.jsx)("div",{children:"Signup"})},H=function(){return Object(l.jsx)(v,{children:Object(l.jsx)(B,{})})},W=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(H,{})})},V=function(){var e=Object(i.e)(),t=Object(i.f)(),n=Object(j.c)((function(e){return e.productList.products})),c=null===n||void 0===n?void 0:n.filter((function(e){return e._id===t.id}))[0];(n.length<1||!c)&&e.push("/");var r=c.name,a=c.image,s=c.recipeIngredient,o=c.recipeInstructions;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("div",{className:"row md:flex space-x-3",children:[Object(l.jsxs)("div",{className:"col md:w-4/12",children:[Object(l.jsx)("div",{className:"dish-info__image block rounded bg-cover bg-center h-60 mb-3",style:{backgroundImage:"url(".concat(a,")")}}),Object(l.jsx)(C,{children:"Add To Cart"})]}),Object(l.jsx)("div",{className:"col md:w-4/6",children:Object(l.jsxs)("div",{className:"dish-info__text p-3",children:[Object(l.jsx)("h2",{className:"text-2xl font-bold mb-2",children:r}),Object(l.jsx)("h3",{className:"text-md font-bold mb-2",children:"Ingredients:"}),Object(l.jsx)("ol",{className:"list-decimal pl-4 text-sm mb-2",children:s.map((function(e){return Object(l.jsxs)("li",{children:[Object(l.jsxs)("strong",{className:"list-ingredients__name",children:[e.ingredient_name," : "]}),Object(l.jsxs)("span",{className:"list-ingredients__quantity",children:[e.ingredient_quantity," ",e.ingredient_unit]})]})}))}),Object(l.jsx)("h3",{className:"text-md font-bold mb-2",children:"How to cook:"}),Object(l.jsx)("ol",{className:"list-decimal pl-4 text-sm",children:o.map((function(e){return Object(l.jsx)("li",{className:"mb-2",children:e})}))})]})})]})})},K=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(v,{children:Object(l.jsx)(V,{})})})},X=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(K,{})})},Y=function(){var e=Object(i.e)(),t=Object(j.b)(),n=Object(j.c)((function(e){return e.productCreate})),r=n.loading,a=n.success,s=Object(c.useState)(""),o=Object(_.a)(s,2),d=o[0],u=o[1],b=Object(c.useState)(""),x=Object(_.a)(b,2),m=x[0],p=x[1],h=Object(c.useState)([{ingredient_name:"",ingredient_quantity:"",ingredient_unit:""}]),O=Object(_.a)(h,2),f=O[0],g=O[1],N=Object(c.useState)(""),y=Object(_.a)(N,2),k=y[0],S=y[1],L=function(e,t){var n=Object(w.a)(f),c=t.target.name;Object.keys(n[e]).forEach((function(r){r===c&&(n[e][r]=t.target.value)})),g(n)};return Object(c.useEffect)((function(){a&&(e.push("/"),u(""),p(""),g([{ingredient_name:"",ingredient_quantity:"",ingredient_unit:""}]),S(""),t({type:q}))}),[a,e,t]),Object(l.jsxs)(v,{children:[r&&Object(l.jsx)(E,{}),Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault();var n={name:d,image:m,recipeIngredient:f,recipeInstructions:k.split("\n")};t({type:D,payload:n})},children:[Object(l.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Add New Dish"}),Object(l.jsx)("div",{className:"form-group mb-4",children:Object(l.jsx)("input",{className:"block w-full h-14 bg-red-200 placeholder-gray-500 px-4 py-1 rounded",type:"text",placeholder:"Dish Name",value:d,onChange:function(e){return u(e.target.value)}})}),Object(l.jsxs)("div",{className:"form-group mb-1",children:[f.map((function(e,t){return Object(l.jsxs)("div",{className:"row md:flex md:-mx-3 items-center mb-3",children:[Object(l.jsx)("div",{className:"col md:w-1/4 md:px-3",children:Object(l.jsx)("input",{className:"block w-full h-14 bg-red-200 placeholder-gray-500 px-4 py-1 rounded",type:"text",placeholder:"Ingredient name",name:"ingredient_name",value:e.ingredient_name,onChange:function(e){return L(t,e)}})}),Object(l.jsx)("div",{className:"col md:w-1/4 md:px-3",children:Object(l.jsx)("input",{className:"block w-full h-14 bg-red-200 placeholder-gray-500 px-4 py-1 rounded",type:"text",placeholder:"Ingredient quantity",name:"ingredient_quantity",value:e.ingredient_quantity,onChange:function(e){return L(t,e)}})}),Object(l.jsx)("div",{className:"col md:w-1/4 md:px-3",children:Object(l.jsx)("input",{className:"block w-full h-14 bg-red-200 placeholder-gray-500 px-4 py-1 rounded",type:"text",placeholder:"Ingredient Unit",name:"ingredient_unit",value:e.ingredient_unit,onChange:function(e){return L(t,e)}})}),t?Object(l.jsx)("div",{className:"col md:w-1/4 md:px-3",children:Object(l.jsx)("div",{className:"text-left",children:Object(l.jsx)("button",{className:"inline-block p-3 text-red-400 hover:opacity-70",onClick:function(){return function(e){var t=Object(w.a)(f);t.splice(e,1),g(t)}(t)},children:"Remove"})})}):null]},t)})),Object(l.jsx)("div",{className:"row flex",children:Object(l.jsx)("div",{className:"col md:w-3/4",children:Object(l.jsx)("div",{className:"text-right",children:Object(l.jsx)("button",{className:"inline-block p-3 text-red-400 hover:opacity-70",onClick:function(){g([].concat(Object(w.a)(f),[{ingredient_name:"",ingredient_quantity:"",ingredient_unit:""}]))},children:"Add More"})})})})]}),Object(l.jsxs)("div",{className:"form-group mb-3",children:[Object(l.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Cooking Steps:"}),Object(l.jsx)("div",{className:"input mb-3",children:Object(l.jsx)("textarea",{className:"block w-full h-60 bg-red-200 placeholder-gray-500 px-4 py-1 rounded",placeholder:"Write cooking steps",value:k,onChange:function(e){return S(e.target.value)}})})]}),Object(l.jsxs)("div",{className:"form-group mb-4",children:[Object(l.jsx)("h2",{className:"text-lg font-bold mb-2",children:"Upload Dish Image (URL):"}),Object(l.jsx)("input",{className:"block w-full h-14 bg-red-200 placeholder-gray-500 px-4 py-1 rounded",type:"text",placeholder:"Image URL",onChange:function(e){return p(e.target.value)}})]}),Object(l.jsx)(C,{variant:"submit",disabled:!d||!m||!k,children:"Submit"})]})]})},Z=function(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(Y,{})})};var $=function(){return Object(l.jsxs)("div",{className:"App text-black bg-gray-100 min-h-screen pt-14 pb-40",children:[Object(l.jsx)(f,{}),Object(l.jsxs)("main",{children:[Object(l.jsx)(i.a,{path:"/dish/:id",component:X,exact:!0}),Object(l.jsx)(i.a,{path:"/login",component:M,exact:!0}),Object(l.jsx)(i.a,{path:"/signup",component:W,exact:!0}),Object(l.jsx)(i.a,{path:"/cart",component:y,exact:!0}),Object(l.jsx)(i.a,{path:"/add",component:Z,exact:!0}),Object(l.jsx)(i.a,{path:"/",component:G,exact:!0})]}),Object(l.jsx)(o,{})]})},ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,75)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),c(e),r(e),a(e),s(e)}))},te=n(24),ne=n(41),ce=n(42),re=n(8),ae=n.n(re),se=n(10),ie=n(20),le=n(21),oe=n.n(le),de=function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n,c,r;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.next=3,oe.a.post("/api/users/login",{name:t},n);case 3:return c=e.sent,r=c.data,localStorage.setItem("userInfo",JSON.stringify(r)),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){localStorage.removeItem("userInfo")},je=function(){var e=Object(ie.a)(ae.a.mark((function e(){var t,n;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.get("/api/products");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(ie.a)(ae.a.mark((function e(t){var n,c;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,oe.a.post("/api/products",t);case 2:return n=e.sent,c=n.data,console.log(c),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=ae.a.mark(fe),me=ae.a.mark(ge),pe=ae.a.mark(ve),he=ae.a.mark(Ne),Oe=ae.a.mark(ye);function fe(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(se.a)(de,e.payload);case 3:return t=n.sent,n.next=6,Object(se.b)({type:x,user:t});case 6:n.next=10;break;case 8:n.prev=8,n.t0=n.catch(0);case 10:case"end":return n.stop()}}),xe,null,[[0,8]])}function ge(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(se.a)(ue);case 3:return e.next=5,Object(se.b)({type:h});case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),me,null,[[0,7]])}function ve(e){var t;return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(se.a)(je);case 3:return t=e.sent,e.next=6,Object(se.b)({type:T,products:t});case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),pe,null,[[0,8]])}function Ne(e){var t;return ae.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(se.a)(be,e.payload);case 3:return t=n.sent,n.next=6,Object(se.b)({type:A,product:t});case 6:return n.next=8,Object(se.b)({type:q});case 8:n.next=14;break;case 10:return n.prev=10,n.t0=n.catch(0),n.next=14,Object(se.b)({type:P});case 14:case"end":return n.stop()}}),he,null,[[0,10]])}function ye(){return ae.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(se.c)(b,fe);case 2:return e.next=4,Object(se.c)(p,ge);case 4:return e.next=6,Object(se.c)(F,ve);case 6:return e.next=8,Object(se.c)(D,Ne);case 8:case"end":return e.stop()}}),Oe)}var we,_e=ye,ke=Object(ce.a)(),Ce=Object(te.combineReducers)({userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return{loading:!0};case x:return{loading:!1,userInfo:t.user};case m:return{loading:!1,error:t.user};case h:return{};default:return e}},productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return{loading:!0,products:[]};case T:return{loading:!1,products:t.products};case U:return{loading:!1,error:t.products};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{loading:!0};case A:return{loading:!1,success:!0,product:t.products};case P:return{loading:!1,error:!0};case q:return{};default:return e}}}),Se={userLogin:{userInfo:JSON.parse((null===(we=localStorage)||void 0===we?void 0:we.getItem("userInfo"))||"null")}},Le=Object(te.createStore)(Ce,Se,Object(ne.composeWithDevTools)(Object(te.applyMiddleware)(ke)));ke.run(_e);var Ie=Le;s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(d.a,{children:Object(l.jsx)(j.a,{store:Ie,children:Object(l.jsx)($,{})})})}),document.getElementById("root")),ee()}},[[74,1,2]]]);
//# sourceMappingURL=main.48ca77c2.chunk.js.map